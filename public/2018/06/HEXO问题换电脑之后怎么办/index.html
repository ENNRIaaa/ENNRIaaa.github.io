<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=0.5"><link rel="stylesheet" href="/css/post.css"><link rel="icon" href="/favicon.ico"><title>HEXO问题：换电脑之后怎么办</title></head><body>　　<div class="inner"><h2>HEXO问题：换电脑之后怎么办</h2><h1 id="前言-可忽略不看"><a href="#前言-可忽略不看" class="headerlink" title="前言(可忽略不看)"></a>前言(可忽略不看)</h1><p>这个问题是在我部署完HEXO博客之后就想到的，我要是换了一台电脑或者重新装系统之后，还怎么更新HEXO博客呢？<br>我今天在网上开始寻找解决办法，上网一看才知道这是很多人很早以前就面临的问题，当然有很多大神做了解答，但是绝大多数的回答我都是看不懂的。大多数的办法是在同一个GitHub仓库创建两个分支，一个用来存放HEXO上传的静态页面，一个用来保存HEXO的本地源文件。但是对于我这个小白来说，仓库一词我都是最近才知道的，更别提分支了。还有一大堆的命令，我也看不懂所以然。<br>最后，我还是用了这个办法，在原有的仓库基础上再创建一个分支，用来保存本地的源文件。（网上主要的还是这个办法）<br>我试着把我的操作流程写下来，可能其中会有遗漏或者小错误，遇到问题只能自己解决了。因为我也是凭借自己理解操作的。<br><a id="more"></a></p>
<h1 id="我为什么要把源文件上传到GitHub呢？"><a href="#我为什么要把源文件上传到GitHub呢？" class="headerlink" title="我为什么要把源文件上传到GitHub呢？"></a>我为什么要把源文件上传到GitHub呢？</h1><p>因为我今天在电脑上安装了Linux，所以以后敲字都要靠Linux了。  </p>
<h1 id="一-解决方案："><a href="#一-解决方案：" class="headerlink" title="一.解决方案："></a>一.解决方案：</h1><h2 id="1-提前准备"><a href="#1-提前准备" class="headerlink" title="1.提前准备"></a>1.提前准备</h2><p>首先，不论是在另一台电脑上还是重新安装了系统，都要安装好<code>Node.js</code>和<code>Git</code>，还有<code>HEXO</code>，它们的安装方式具体参考HEXO的<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">说明文档</a>。  </p>
<h2 id="2-操作流程"><a href="#2-操作流程" class="headerlink" title="2.操作流程"></a>2.操作流程</h2><p>1.登录到GitHub，打开HEXO所在的仓库，在<code>Branch</code>（分支）新建一个分支<code>hexo</code>，在仓库<code>Setting</code>下的<code>Branches</code>中，设置默认分支分<code>hexo</code>。<br>2.克隆GitHub上的XXX.github.io项目的文件到本地，命令如下：  </p>
<p><pre><code><br>git clone <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:ENNRIaaa/sora.red.git<br></code></pre><br>把链接换成自己仓库的链接。（我的是sora.red是因为我把仓库名修改了，正常默认格式是：XXX.github.io）。<br><em>注：克隆的文件夹保存在哪取决于你<code>Git bash</code>所在的位置，可通过<code>pwd</code>命令查看你当前所在位置。</em><br>3.克隆好之后，打开本地的文件夹，默认的文件夹名称是：<code>XXX.github.io</code>，把文件夹内除了<code>.git</code>文件夹之外的所有文件全部删除。我用的是Linux，<code>.git</code>是隐藏文件夹，不知道在Windows下是不是隐藏文件，如果是的话，打开<code>显示隐藏文件</code>。<br>4.之后把原电脑上的HEXO文件全部复制到这个<code>XXX.github.io</code>文件夹下。<br>5.复制完之后里面应该有一个名为<code>.gitignore</code>文件，如果没有的话在终端通过命令：</p>
<p><pre><code><br>touch .gitignore<br></code></pre><br>创建一个。正常<code>.gitignore</code>的内容是：<br><code>.DS_Store</code><br><code>Thumbs.db</code><br><code>db.json</code><br><code>*.log</code><br><code>node_modules/</code><br><code>public/</code><br><code>.deploy*/</code><br>6.创建一个分支<code>hexo</code>并切换到这个分支上，命令如下：</p>
<p><pre><code><br>git checkout -b hexo<br></code></pre><br>7.提交复制过来的文件到暂存区，命令如下：</p>
<p><pre><code><br>git add –all<br></code></pre><br>注意：<code>-</code>之间无空格！  </p>
<p>8.提交，命令如下：</p>
<p><pre><code><br>git commit -m “新建分支资源文件”<br></code></pre><br>引号内的内容自定义，就是一个备注。<br>9.推送分支到GitHub上，命令如下：</p>
<p><pre><code><br>git push –set-upstream origin hexo<br></code></pre><br>注意：<code>-</code>之间无空格！<br>推送成功之后，到GitHub仓库刷新一下，看看<code>hexo</code>分支下是否已经成功上传了本地的源文件。<br>到这里，本地的源文件已经上传成功了。以后更新HEXO本地源文件直接使用<code>git push</code>命令就可以了，HEXO发博客的操作跟以前一样，还是这三步：<code>hexo c</code>、<code>hexo g</code>、<code>hexo d -g</code>。  </p>
<p><em>注：期间终端可能会提示需要输入一下密码啊，或者提示让你输入邮箱和用户名等，只需根据提示输入即可。<br>在安装完Git和node.js之后，我就把SSH密钥配置完了。设置GitHub的SSH密钥，可参考<a href="https://sora.red/2018/GitHub%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AESSH/" target="_blank" rel="noopener">GitHub如何配置SSH</a>。</em>  </p>
<h1 id="二-如果今后换电脑该如何操作"><a href="#二-如果今后换电脑该如何操作" class="headerlink" title="二.如果今后换电脑该如何操作"></a>二.如果今后换电脑该如何操作</h1><p>本地源文件保存到GitHub之后，今后在其他电脑上或者重装系统后，先把<code>Git</code>、<code>Node.js</code>、<code>HEXO</code>这些基本的都安装好,（<em>注意：<code>HEXO</code>安装好之后不要执行<code>hexo init</code>初始化命令</em>），再把GitHub上保存HEXO源文件的<code>hexo</code>分支克隆到本地即可。<br>克隆分支的命令：</p>
<p><pre><code><br>git clone -b hexo <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:ENNRIaaa/sora.red.git<br></code></pre><br><code>-b</code>后面的是分支的名称，后面替换自己仓库的链接。</p>
<h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><p>今天主要提供帮助的是CSDN博主LeonWuV,如果我的文章有一些地方看不懂，或者有错误，可参考<a href="https://blog.csdn.net/wxl1555/article/details/79293159" target="_blank" rel="noopener">此博主的文章</a>。<br>本文写了一个多小时，终于结束了。虽然很墨迹，但是很快乐。</p>
</div><script src="/js/jquery.min.js"></script><script src="/js/main.js"></script></body></html>